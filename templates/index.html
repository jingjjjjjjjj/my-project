<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IoT 智慧家庭控制面板</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1><i class="fas fa-home"></i> IoT 智慧家庭控制面板</h1>
            <div class="connection-status">
                <span class="status-indicator connected"></span>
                <span>已連線</span>
            </div>
        </header>

        <!-- Dashboard Grid -->
        <main class="dashboard">
            <!-- Temperature & Humidity Card -->
            <div class="card">
                <div class="card-header">
                    <i class="fas fa-thermometer-half"></i>
                    <h3>溫濕度監控</h3>
                </div>
                <div class="card-body">
                    <div class="sensor-reading">
                        <div class="temperature">
                            <span class="value" id="temperature">24.5</span>
                            <span class="unit">°C</span>
                        </div>
                        <div class="humidity">
                            <span class="value" id="humidity">65</span>
                            <span class="unit">%</span>
                        </div>
                    </div>
                    <div class="progress-bar">
                        <div class="progress" id="temp-progress"></div>
                    </div>
                </div>
            </div>

            <!-- Smart Lights Control -->
            <div class="card">
                <div class="card-header">
                    <i class="fas fa-lightbulb"></i>
                    <h3>智慧照明</h3>
                </div>
                <div class="card-body">
                    <div class="light-controls">
                        <div class="light-switch">
                            <label>客廳</label>
                            <input type="checkbox" id="living-room" class="toggle-switch">
                        </div>
                        <div class="light-switch">
                            <label>臥室</label>
                            <input type="checkbox" id="bedroom" class="toggle-switch">
                        </div>
                        <div class="light-switch">
                            <label>廚房</label>
                            <input type="checkbox" id="kitchen" class="toggle-switch">
                        </div>
                    </div>
                    <div class="brightness-control">
                        <label>亮度調節</label>
                        <input type="range" id="brightness" min="0" max="100" value="75" class="slider">
                        <span id="brightness-value">75%</span>
                    </div>
                </div>
            </div>

            <!-- Security System -->
            <div class="card">
                <div class="card-header">
                    <i class="fas fa-shield-alt"></i>
                    <h3>安全系統</h3>
                </div>
                <div class="card-body">
                    <div class="security-status">
                        <div class="status-item">
                            <i class="fas fa-door-open"></i>
                            <span>前門：<span class="status-text" id="front-door">已鎖定</span></span>
                        </div>
                        <div class="status-item">
                            <i class="fas fa-video"></i>
                            <span>監控：<span class="status-text" id="camera">正常</span></span>
                        </div>
                        <div class="status-item">
                            <i class="fas fa-exclamation-triangle"></i>
                            <span>警報：<span class="status-text" id="alarm">未觸發</span></span>
                        </div>
                    </div>
                    <button class="btn btn-primary" id="arm-system">啟動警戒</button>
                </div>
            </div>

            <!-- Energy Monitoring -->
            <div class="card">
                <div class="card-header">
                    <i class="fas fa-bolt"></i>
                    <h3>能源監控</h3>
                </div>
                <div class="card-body">
                    <div class="energy-stats">
                        <div class="stat">
                            <span class="stat-label">即時功率</span>
                            <span class="stat-value" id="power">2.4 kW</span>
                        </div>
                        <div class="stat">
                            <span class="stat-label">今日用電</span>
                            <span class="stat-value" id="daily-usage">15.2 kWh</span>
                        </div>
                        <div class="stat">
                            <span class="stat-label">本月用電</span>
                            <span class="stat-value" id="monthly-usage">456 kWh</span>
                        </div>
                    </div>
                    <canvas id="energy-chart" width="300" height="200"></canvas>
                </div>
            </div>

            <!-- Device Status -->
            <div class="card">
                <div class="card-header">
                    <i class="fas fa-microchip"></i>
                    <h3>設備狀態</h3>
                </div>
                <div class="card-body">
                    <div class="device-list">
                        <div class="device-item">
                            <i class="fas fa-wifi"></i>
                            <span>路由器</span>
                            <span class="device-status online">線上</span>
                        </div>
                        <div class="device-item">
                            <i class="fas fa-temperature-low"></i>
                            <span>空調</span>
                            <span class="device-status online">運作中</span>
                        </div>
                        <div class="device-item">
                            <i class="fas fa-tv"></i>
                            <span>智慧電視</span>
                            <span class="device-status offline">離線</span>
                        </div>
                        <div class="device-item">
                            <i class="fas fa-robot"></i>
                            <span>掃地機器人</span>
                            <span class="device-status online">充電中</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Weather Widget -->
            <div class="card">
                <div class="card-header">
                    <i class="fas fa-cloud-sun"></i>
                    <h3>天氣資訊</h3>
                </div>
                <div class="card-body">
                    <div class="weather-info">
                        <div class="weather-main">
                            <i class="fas fa-sun weather-icon"></i>
                            <div class="weather-temp">28°C</div>
                            <div class="weather-desc">晴朗</div>
                        </div>
                        <div class="weather-details">
                            <div class="weather-detail">
                                <i class="fas fa-eye"></i>
                                <span>能見度: 10km</span>
                            </div>
                            <div class="weather-detail">
                                <i class="fas fa-wind"></i>
                                <span>風速: 5 km/h</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>&copy; 2025 IoT 智慧家庭系統 - 由 Raspberry Pi 強力驅動</p>
            <div class="system-info">
                <span>系統時間: <span id="current-time"></span></span>
            </div>
        </footer>
    </div>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
